<!-- This file is just a very simple example of how you can use motile and htmx to update client side content in real time. -->
<!DOCTYPE html>
<html>
<head>
    
    <title>Home</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/ws.js"></script>
</head>
<body>
    <script>
    
    function createWebSocket(url){
      console.log('connecting to the server')

      ws = new WebSocket(url, []);

      ws.addEventListener("open", (event) => {
        console.log('Connected to the server.');
      ws.send(JSON.stringify({ token: '1234' }));
    });

      return  ws;
    }

    htmx.createWebSocket = createWebSocket;

    </script>

    <h1>Home</h1>
    <p>Welcome to the home page.</p>

    <button onclick="changeTitle()">Change title</button>
    <div hx-ext="ws"  ws-connect="ws://localhost:4020/wire">
      <div id="notifications"></div>
      <div id="chat_room">
      </div>
      <form id="form" ws-send>
        <input name="chat_message">
      </form>
    </div>

        
</html>
